/*
    File: fn_setupStationService.sqf
    Author: NiiRoZz

    Description:
    Add action fuel action in Station Service.

    put function in init file then execute it with:
    call getFuelpumps;
    getFuelpumps =
    {
        _pos = getArray(configFile >> "CfgWorlds" >> worldName >> "centerPosition");
        _Station = nearestobjects [_pos,["Land_fs_feed_F","Land_FuelStation_Feed_F"], 25000];
        _br = toString [13, 10];
        _tab = toString [9];

        _TexteSortie = "_NiiRoZz_Station_Essence = [" + _br;

        {
            _Array = [getpos _x];
            _TexteSortie = _TexteSortie + _tab + (str _Array);
            _TexteSortie = if (_forEachIndex < ((count _Station) - 1)) then {_TexteSortie + ", " + _br} else {_TexteSortie + _br};
        } forEach _Station;
        _TexteSortie = _TexteSortie + "];";
        hint "Completed";
        copyToClipboard _TexteSortie;
    };
*/
private ["_NiiRoZz_Station_Essence","_pumpClass","_pump"];
_NiiRoZz_Station_Essence = [
[7369.15,8002.09,0.0264599],
[7366.7,7995.42,0.0266895],
[7360.96,8005.08,0.0265808],
[7358.5,7998.4,0.0264683],
[7976.94,7426.98,0.227515],
[7978.25,7419.11,0.13509],
[6886.99,7490.55,0],
[8318.96,9708.93,0.182608],
[8320.77,9712.13,0.212898],
[8970.44,10332.3,0.186068],
[5174.06,8806.32,0.203433],
[5681.72,10164.6,0.261144],
[5685.9,10173,0.273206],
[5677.78,10173.8,0.276672],
[5683.21,10182,0.187238],
[5409.42,9905.05,0.238398],
[5409.69,9913.75,0.238326],
[5403.54,9905.04,0.23874],
[5403.81,9913.74,0.238267],
[5810.65,10816.9,0.276737],
[5801.93,10816.8,0.27668],
[5810.71,10825.1,0.273184],
[5793.12,10817,0.276811],
[5801.99,10825,0.273181],
[10935.2,9856.06,-0.00308228],
[5793.18,10825.1,0.273188],
[10940.9,9855.39,-0.00172424],
[10826.7,6489.82,0.202434],
[8494.33,12432,0.141418],
[8492.98,12438,0.174957],
[8492.11,12441.7,0.215363],
[11146.2,5152.01,0.204342],
[11154.1,5152.44,0.203659],
[5771.25,4239.42,0],
[5776.41,4232.31,0],
[5767.14,4236.94,0],
[5781.14,4224.93,0],
[5771.14,4229.01,0],
[5775.74,4221.55,0],
[12613.3,7582.83,0.000371933],
[12617.5,7590.52,0.00034523],
[12618.1,7580.01,0.000326157],
[12622.3,7587.7,0.000349045],
[5594.25,12508.2,0.190352],
[5388.7,4090.67,0.190134],
[5379.63,4092.96,0.190678],
[6600.12,13076.3,0.002388],
[6602.45,13082,0.00239182],
[6592,13079.6,0.00238228],
[6594.32,13085.3,0.00239182],
[6583.86,13082.9,0.00238419],
[6586.18,13088.6,0.00239182],
[8952.51,13678,0.222528],
[8954.49,13678,0.222528],
[8956.32,13677.8,0.222528],
[9953.85,13467,0.000184059],
[9960.31,13466.6,0.000184059],
[9954.45,13475.7,0.000184059],
[9960.92,13475.4,0.000184059],
[9954.69,13484.5,0.000184059],
[9961.15,13484.2,0.000184059],
[2463.11,7430.66,0.196864],
[2451.63,7434.66,0.191422],
[3029.57,11316.1,0.0899534],
[11618.7,13053,-0.000164986],
[11627,13050.4,-0.000196934],
[11620.6,13058.4,-0.000120163],
[11635.3,13047.4,-0.000175476],
[11629,13055.8,-0.000120163],
[11637.2,13052.8,-0.000120163],
[14364.7,8743.13,0.216024],
[11630.9,2998.93,0.207578],
[11641.9,2990.91,0.208196],
[14261,11512.9,0.000572205],
[14264.9,11508.8,-0.00118828],
[11686.6,2267.25,0.0264068],
[11694.3,2271.39,0.0244508],
[11690,2260.98,0.0262642],
[11697.6,2265.13,0.024292],
[1873.69,12121.5,0.000513554],
[1874.1,12127.6,0.000473499],
[1864.93,12122,0.000376225],
[1865.37,12128,0.000465393],
[2137.39,3360.78,0.0604992],
[2132.15,3360.41,0.0531025]
];

_pumpClass = "Land_FuelStation_01_pump_F","Land_FuelStation_02_pump_F";
{
	_pump = (nearestObject [_x, _pumpClass]);
	_pump setFuelCargo 0;
	_pump addAction [localize "STR_Action_Pump", life_fnc_FuelStatOpen, 1, 3, true, true, "", ' _this distance _target < 5 && cursorTarget isEqualTo _target '];
} forEach _NiiRoZz_Station_Essence;
